define(["faceitConsApp"+window.__env.minUrl,window.__env.baseUrl+"shared/sharedController"+window.__env.minUrl,window.__env.baseUrl+"directives/onlyDigits"+window.__env.minUrl,window.__env.baseUrl+"directives/ngEnter"+window.__env.minUrl],function(e){"use strict";e.controller("pinAccessController",["$scope","$rootScope","$routeParams","$location","sharedService","sharedMethod","storageFactory","user",function(e,i,t,s,n,r,a,o){var l=t.Id;function d(e){r.SetText("submissionError",""),r.Hide("submissionError"),r.IsNull(e)||(r.SetText("submissionError",e),r.Show("submissionError"))}e.OnPinSubmit=function(){d("");var e=r.GetValue("txtEmail"),t=r.GetValue("txtPinNum");if(!r.IsNull(e)&&r.IsValidEmail(e))if(r.IsNull(t))d("Enter valid pin number");else{r.start();var s={Item1:t.toString(),Item2:l.toString(),Item3:e};n.GetSessionValidate(s,function(e){if(200===parseInt(e.status)&&200===parseInt(e.data.status))switch(a.setValue("Identity",e.data),o.setModal({FullName:"NormalUser"}),r.stop(),parseInt(l)){case 1:i.NavigateToRoute("fb");break;case 2:i.NavigateToRoute("fpb");break;case 3:i.NavigateToRoute("pdc")}else d(e.data.statusText),r.stop()},function(e){r.stop()})}else d("Enter valid e-mail address")}}])});