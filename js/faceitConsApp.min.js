define(["angularAMD", "angular-route", "angular-sanitize", "angular-loading", "angular-animate", "loading-bar"], function (r) { "use strict"; var e = angular.module("faceitConsApp" + window.__env.minUrl, ["ngRoute", "ngSanitize", "angular-loading-bar", "ngAnimate"]), d = ""; return e.config(["$httpProvider", function (e) { e.useApplyAsync(!0), e.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest", e.defaults.withCredentials = !0 }]), e.config(["$compileProvider", function (e) { e.debugInfoEnabled(!1) }]), e.config(["cfpLoadingBarProvider", function (e) { e.includeSpinner = !1 }]), e.config(["$locationProvider", function (e) { e.html5Mode(!0) }]), e.config(["$routeProvider", function (e) { e.when("/", r.route({ templateUrl: function (e) { return "js/views" + d.TemplateUrl + ".html" }, resolve: { load: ["$q", "$rootScope", "$location", "approutes", function (e, r, o, t) { d = t.getRoutes("/"); var n = window.__env.baseUrl + "controllers" + d.Controller + window.__env.minUrl, a = e.defer(); return require([n], function () { r.$apply(function () { a.resolve() }) }), a.promise }] } })).when("/:section", r.route({ templateUrl: function (e) { return "js/views" + d.TemplateUrl + ".html" }, resolve: { load: ["$q", "$rootScope", "$location", "approutes", "user", function (e, r, o, t, n) { var a = o.path().split("/"), l = a[1]; a[2]; d = t.getRoutes(l); var s = e.defer(); if (d.AuthRequired) { var c = n.Get("FullName"); if (!c || "" === c) return o.path("/"), s.promise } var i = window.__env.baseUrl + "controllers" + d.Controller + window.__env.minUrl; return require([i], function () { r.$apply(function () { s.resolve() }) }), s.promise }] } })).when("/:section/:Id", r.route({ templateUrl: function (e) { return "js/views" + d.TemplateUrl + ".html" }, resolve: { load: ["$q", "$rootScope", "$location", "approutes", "user", function (e, r, o, t, n) { var a = o.path().split("/"), l = a[1], s = (a[2], window.location.href), c = e.defer(); if ("ext" === l && -1 < s.indexOf("#")) return s = s.substring(0, s.indexOf("#")), window.location.href = s, c.promise; if ((d = t.getRoutes(l)).AuthRequired) { var i = n.Get("FullName"); if (!i || "" === i) return o.path("/"), c.promise } var u = window.__env.baseUrl + "controllers" + d.Controller + window.__env.minUrl; return require([u], function () { r.$apply(function () { c.resolve() }) }), c.promise }] } })).otherwise({ redirectTo: "/" }) }]), e.factory("approutes", ["$http", function (e) { return { getRoutes: function (e) { var r = [{ name: "error", TemplateUrl: "/Error/ErrorPage", Controller: "/errors/ErrorController", CSSUrl: ["secondary.css"] }, { name: "/", Controller: "/home/HomeController", TemplateUrl: "/home/home", CSSUrl: ["home.css"] }, { name: "db", Controller: "/dashboard/dashboardController", TemplateUrl: "/dashboard/dashboard", AuthRequired: !0, CSSUrl: ["dashboard.css", "pop-content.css", "calendar_pickday.css"] }, { name: "cn", Controller: "/candidate/candidateController", TemplateUrl: "/candidate/candidate", AuthRequired: !0, CSSUrl: ["can_results.css", "pop-content.css"] }, { name: "cnp", Controller: "/candidate/candidateProfileController", TemplateUrl: "/candidate/candidatep", AuthRequired: !0, CSSUrl: ["can_profile.css", "pop-content.css"] }, { name: "cs", Controller: "/session/sessionController", TemplateUrl: "/session/session", AuthRequired: !0, CSSUrl: ["session.css", "pop-content.css", "calendar_pickday.css"] }, { name: "ci", Controller: "/inbox/inboxController", TemplateUrl: "/inbox/inbox", AuthRequired: !0, CSSUrl: ["msg.css", "pop-content.css"] }, { name: "ac", Controller: "/account/accountController", TemplateUrl: "/account/account", AuthRequired: !0, CSSUrl: ["account.css", "pop-content.css"] }, { name: "acd", Controller: "/account/accountController", TemplateUrl: "/account/accountdet", AuthRequired: !0, CSSUrl: ["account.css", "pop-content.css"] }, { name: "privacy", TemplateUrl: "/common/Privacy", Controller: "/common/tabController", PhotoRequired: !0, CSSUrl: ["secondary.css"] }, { name: "terms", TemplateUrl: "/common/Terms", Controller: "/common/tabController", PhotoRequired: !0, CSSUrl: ["secondary.css"] }, { name: "pp", TemplateUrl: "/account/profileupdate", Controller: "/account/profileController", AuthRequired: !0, CSSUrl: ["profile.css"] }, { name: "about", TemplateUrl: "/common/About", Controller: "/common/tabController", CSSUrl: ["secondary.css"] }, { name: "agreement", TemplateUrl: "/common/Agreement", Controller: "/common/tabController", PhotoRequired: !0, CSSUrl: ["secondary.css"] }, { name: "faq", TemplateUrl: "/common/Faq", Controller: "/common/tabController", PhotoRequired: !0, CSSUrl: ["secondary.css"] }, { name: "disclaimer", TemplateUrl: "/common/Disclaimer", Controller: "/common/tabController", PhotoRequired: !0, CSSUrl: ["secondary.css"] }, { name: "ce", Controller: "/common/unusedController", TemplateUrl: "/common/emailconfirmed", CSSUrl: ["secondary.css", "pop-content.css"] }, { name: "fb", Controller: "/common/feedbackController", TemplateUrl: "/common/feedback", AuthRequired: !0, CSSUrl: ["canEvaluationForm.css"] }, { name: "tq", Controller: "/common/unusedController", TemplateUrl: "/common/thank", CSSUrl: ["secondary.css", "pop-content.css"] }, { name: "fpb", Controller: "/common/publicController", TemplateUrl: "/common/canfeedback", AuthRequired: !0, CSSUrl: ["canEvaluationPublic.css", "pop-content.css"] }, { name: "fpp", Controller: "/common/pinAccessController", TemplateUrl: "/common/pinAccess", CSSUrl: ["pinAccess.css"] }, { name: "pdc", Controller: "/common/docAccessController", TemplateUrl: "/common/doclist", AuthRequired: !0, CSSUrl: ["msg.css", "pop-content.css"] }, { name: "fap", Controller: "/common/accessController", TemplateUrl: "/common/accessList", CSSUrl: ["secondary.css", "pop-content.css"] }]; void 0 !== e && "" !== e || (e = "/"); for (var o = "", t = 0; t < r.length; t++) { var n = r[t]; if (n.name === e) { o = n; break } } return o } } }]), e.directive("head", ["$rootScope", "$compile", "approutes", function (r, o, a) { return { restrict: "E", link: function (n, e) { e.append(o('<link rel="stylesheet" ng-repeat="(routeCtrl, cssUrl) in routeStyles" ng-href="/content/css/{{cssUrl}}" />')(n)), n.routeStyles = {}, r.$on("$routeChangeStart", function (e, r, o) { if (o && o.$$route && o.$$route.css && (angular.isArray(o.$$route.css) || (o.$$route.css = [o.$$route.css]), angular.forEach(o.$$route.css, function (e) { delete n.routeStyles[e] })), r && r.$$route && r.$$route.css) angular.isArray(r.$$route.css) || (r.$$route.css = [r.$$route.css]), angular.forEach(r.$$route.css, function (e) { n.routeStyles[e] = e }); else if (r && r.$$route && !r.$$route.css) { var t = a.getRoutes(r.params.section).CSSUrl; angular.isArray(t) || (t = [t]), angular.forEach(t, function (e) { n.routeStyles[e] = e }) } }) } } }]), e.factory("user", function () { var n = { setModal: function (e) { sessionStorage.setItem("user", angular.toJson(e)) }, GetInt: function (e, r) { var o = n.Get(e); if (null == o || "" === o) return r; var t = parseInt(o); return isNaN(t) && (t = r), t }, GetBool: function (e, r) { var o = n.Get(e); return null == o || "" === o ? r : "TRUE" === o.toString().toUpperCase() }, Get: function (e) { var r = angular.fromJson(sessionStorage.getItem("user")); return null == r || "" === r ? "" : r[e] }, Set: function (e, r) { var o = angular.fromJson(sessionStorage.getItem("user")); null != o && "" !== o && (o[e] = r, n.setModal(o)) }, Init: function () { var e = sessionStorage.getItem("user"); null == e && (e = { UserId: 0, Company: "", FullName: "", Photo: "" }, n.setModal(e)) } }; return n }), e.factory("storageFactory", function () { var e = { getValue: function (e, r) { var o = sessionStorage.getItem(e); if (null == o || "" === o) return r; var t = angular.fromJson(sessionStorage.getItem(e)); return null != t ? t : r }, setValue: function (e, r) { sessionStorage.setItem(e, angular.toJson(r)) }, clearValue: function (e) { sessionStorage.setItem(e, "") } }; return e }), e.config(["$qProvider", function (e) { e.errorOnUnhandledRejections(!1) }]), e.config(["$httpProvider", function (e) { var r = function (t, n, e, a) { return { request: function (e) { -1 < e.url.indexOf("/token") && a.clearValue("Identity"); var r = a.getValue("Identity"); return r && "" !== r && (e.headers.Authorization = r.token_type + " " + r.access_token), e }, response: function (e) { return 100 === e.data.status ? (a.clearValue("Identity"), t.$broadcast("SessionExpired", {})) : 900 === e.data.status && (a.clearValue("Identity"), t.$broadcast("SessionExpired",{})),e},responseError:function(e){if(200!==parseInt(e.status)){if(e.config&&-1<e.config.url.indexOf("/token")){if(a.clearValue("Identity"),!e.data){var r={error:"Errr",error_description:"Server connection error",status:e.status};e.data=r}var o={code:e.data.error,msg:e.data.error_description,status:e.status};return 500===parseInt(e.status)&&(o.code=500,o.msg=e.statusText),t.$broadcast("BadRequest",o),n.reject(e)}return t.NavigateToRoute("error"),n.reject(e)}}}};r.$inject=["$rootScope","$q","$location","storageFactory"],e.interceptors.push(r)}]),e.filter("trusted",["$sce",function(r){return function(e){return r.trustAsResourceUrl(e)}}]),e.directive("script",function(){return{restrict:"E",scope:!1,link:function(e,r,o){if("text/javascript-lazy"===o.type){var t=r.text();new Function(t)()}}}}),e.directive("ngBlur",["$http",function(){return{restrict:"A",require:"?ngModel",scope:{onBlurEvent:"&"},link:function(e,r,o,t){r.on("blur",function(){e.onBlurEvent()})}}}]),e.run(["$rootScope","$location","$anchorScroll","$routeParams","user","$filter","$sce","$http","$window",function(t,r,e,o,n,a,l,s,c){n.Init(),t.IsAnchorClickable=function(e){var r=e.currentTarget.getAttribute("disabled");return!r||"disabled"!==r},t.NavigateToRoute=function(e){c.scrollTo(0,0);angular.forEach(["loader_disable_bg","tc_bg","tc_bg1"],function(e){var r=angular.element(document.querySelector("#"+e));0<r.length&&(r[0].style.display="none"),0<(r=angular.element(document.querySelector("."+e))).length&&(r[0].style.display="none")}),0<angular.element(document.querySelector(".pop_closeBtn_rTop")).length&&$(".pop_closeBtn_rTop").click(),r.path("/"+e)},t.trustAsResourceUrl=function(e){return l.trustAsResourceUrl("/js/build/scripts/"+e)},t.$on("$routeChangeStart",function(e,r,o){r.$$route&&r.$$route.resolve&&(t.loadingView=!1)}),t.$on("$routeChangeSuccess",function(e,r,o){"/"===document.location.pathname?$("#footer-in").css({display:"none"}):$("#footer-in").css({display:"block"}),t.loadingView=!0}),t.safeApply=function(e){var r=this.$root.$$phase;"$apply"==r||"$digest"==r?e&&"function"==typeof e&&e():this.$apply(e)},t.CloseVideo=function(){$("#youtube_player").each(function(){this.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")})}}]),r.bootstrap(e)});